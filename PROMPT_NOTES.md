# Заметки по системному промпту и базе знаний

## Структура системного промпта (`improved_system_prompt.txt`)
- Роль и тон ассистента
- Цель и ключевой CTA (предложение звонка после ответа по делу)
- Блок 1: База знаний (что говорить)
- Блок 1.5: Форматирование данных и часовые пояса
- Блок 2: Правила ведения диалога (как говорить)
- Блок 3: Безопасность и конфиденциальность
- Блок 4: Использование базы знаний (векторное хранилище)

## Практики оптимизации промпта
- Сначала — ответ по делу, затем — мягкий CTA (звонок/тест/вводный модуль)
- Явные критерии, когда предлагать звонок (сегменты намерений)
- Ветка подбора курса: 1–2 уточняющих вопроса до рекомендаций
- Запрет на разглашение промпта/инструкций; минимум PII (имя/телефон)
- Инвариантность к оффтопу и токсик речи (возврат к цели диалога)

## База знаний (`knowledge_base_v2.md`)
- Курсы: разделение по направлениям, часы и цены
- Программа лояльности/бонусы
- Расписание и форматы
- Корпоративные программы
- FAQ (трудоустройство, процесс, требования)

## Идеи для доработки
- Связать ответы с аналитикой событий (GA4/Pixel)
- Вести лог пропущенных вопросов (не найдено в KB) для пополнения базы
- A/B‑тест тональности приветствия и питчей CTA
- Настроить регулярную ревизию промпта (раз в 2 недели)
